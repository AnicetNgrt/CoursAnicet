# Préproduction en Gamejam

Dans ce cours on va apprendre à mettre en place un projet de jeu pour une game jam selon les méthodes que j'applique dans ce type de projet. 

# La préproduction ?

L'étape de préproduction est tout le travail que vous devez réaliser avant même de vous lancer à faire le jeu pour de vrai. 

Elle peut comporter plus ou moins d'étapes intermédiaires en fonction de l'ambition de votre projet (concept arts, game design document, prototypes, planning, ciblage marketing ...).

C'est une étape capitale pendant laquelle vous allez tracer la feuille de route de votre projet et lancer la machine. Mais comme dans l'écriture ou le dessein, ce sont toujours les premiers coups de pinceaux qui sont difficiles. C'est pourquoi être au courant de ce que l'on peut faire en préproduction vous aidera à vous lancer dans vos projets sans trop de difficultés.

La qualité n'étant pas toujours synonyme de quantité, je vous conseille tout de même de ne pas passer un temps infini en préproduction dans vos propres projets sinon vous ne les finirez jamais.

D'ailleurs, si vous êtes touché par ce genre de "malédiction des projets jamais terminés" j'ai une solution pour vous : Les game jams

# Une game jam ?

Une game jam, c'est une évènement qui dure couramment entre 2 jours et 1 mois, où plusieurs équipes (ou créateurs solitaires) doivent créer le meilleur jeu dans le temps imparti et selon un thème donné au début.

C'est un excellent exercice qui vous permet de vous lancer dans le milieu de la création de jeu amateur. Si vous n'avez pas le temps ni l'envie de vous lancer dans un projet trop ambitieux, la game jam est la solution, de part son format réduit et simplifié.

Ici on prendra le contexte d'une game jam pour ne pas perdre trop de temps, mais dans un vrai projet (qui pourrait durer des années) la préproduction est aussi importante et vous auriez beaucoup plus de choses à faire.

# Scénario imaginaire

Ici on va partir du principe que vous participez à une game jam sur le site [Itch.io](https://itch.io) ayant pour thème "Rise and Fall" et commme durée un mois.

# Trouver une idée

Trouver une idée de jeu, c'est très difficile. Il faut beaucoup d'expérience  pour avoir l'idée qui va vraiment bien marcher car vous devez pouvoir analyser plusieurs facteurs tels que le temps que vous avez, ce que les gens aimeraient jouer, ce que vous aimeriez faire comme jeu aussi. Mais ne vous en faites pas, avec un peu de méthode on peut s'en sortir !

## Évaluer le temps

La capacité à travailler et la motivation dépend de chacun, mais une bonne manière de ne pas s'engager dans un projet trop difficile est de calculer le temps maximum qu'on pourrait raisonnablement donner dans le meilleur des cas.

Ici on a un mois, composé de 4 semaines. On part du principe qu'on travaille lentement les 3 premières semaines et que comme tout bon procrastinateur et qu'on s'y met généralement à fond la dernière semaine. Même si ce genre de comportement n'est pas une fatalité et est généralement à éviter si vous ne voulez pas vous retrouver à "crunch", à chacun d'être lucide sur sa propre nature.

Personnellement, je travaille 4h max le samedi sur mes jeux et 8h max le dimanche. En semaine je travaille 1h30 max en moyenne par soir.

La dernière semaine, je mets l'accélérateur et je bosse 2h30 par soir en semaine et 12h par jour le weekend.

Au total on a au mieux 95h de travail devant nous.

Voici un petit tableau du temps de travail max sur un jeu que j'estime possible pour moi lorsque je suis en même temps à la fac :

| Durée de la jam | temps de travail max |
|-----------------|----------------------|
| 3h (ça existe)  | 3h                   |
| 1j              | 16h                  |
| 2j              | 24h                  |
| 1 semaine       | 35h                  |
| 2 semaines      | 70h                  |
| 1 mois          | 100h                 |

Partez du principe que vous ferez moins que votre maximum, c'est plus sûr !

## Trouver le gameplay

Il est capital de trouver le gameplay avant le reste, car c'est l'épine dorsale de votre jeu. Si vous perdez du temps sur le reste et que vous ne trouvez pas un gameplay qui convient, c'est dommage. C'est une erreur fréquente. Mais lorsqu'on a un gameplay, il est rare de ne pas trouver le reste, c'est même plus facile.

D'ailleurs, il est souvent valorisé dans les game jams de respecter le thème grâce au gameplay, même si c'est très subtil, plutôt que seulement grâce à l'histoire ou aux visuels. 

D'expérience, mes jeux les plus beaux sont souvent creux dans leur gameplay. Ils se retrouvent plus joués et populaires grâce à leur charme visuel, ce qui est super cool, mais au final ils se retrouvent moins bien notés ou classés, ce qui est moins cool. Dans le cas d'un jeu à visée commerciale, il faut bien calculer son coup entre popularité et expérience utilisateur, car les deux comptent sur le long terme !

Pour en revenir à la recherche de gameplay, je fais du "brainstorming". Je prends un cahier et j'essaye de faire partir du thème des idées par rapprochement.

Par exemple ici :

```
- "Rise and Fall"
    - Rise = Monter
      - grimper
      - s'épanouir
      - un jeu où tu gagnes en puissance
    - Fall = Tomber
      - un jeu où tu peux tomber
      - un jeu où tu perds quelque chose
      - un jeu basé sur la physique
      - ...
```

Très vite, on a une liste d'idées assez exhaustive. Mais ce n'est pas tout !

En général les joueurs ne jouent pas longtemps du tout aux jeux de game jams (10 minutes max). Il faut donc que votre jeu soit simple, efficace, immédiatement compréhensible, et sans difficulté. Un peu comme un jeu mobile. Mais pas besoin de rejouabilité, de quêtes à ralonges ni d'addictivité comme dans les jeux mobiles … le côté novateur, noble, poétique ou ambitieux du jeu est généralement valorisé, surtout sur Itch.io où les joueurs viennent jouer à des jeux indés justement pour leur caractère novateur et respectueux du temps libre des joueurs.

Contrairement à certaines croyances, l'originalité du gameplay ne fait pas tout et un gameplay original mais moins accessible sera souvent défavorable à la visibilité de votre jeu.

Mais tentez surtout quelque chose de nouveau pour vous car le but c'est de s'améliorer !

## Trouver le style graphique

### 2D ou 3D ou 2.5D ?

Cela dépend beaucoup de ce que vous savez faire. Clairement, si vous n'avez jamais fait de jeux 3D, vous n'allez pas l'apprendre en 2 jours, à moins de faire un jeu qu'avec des parallélépipèdes rectangles. Donc tout dépend aussi de la durée de la jam.

La 2.5D à la Doom retro peut être un bon compromis, moins de flexibilité de la caméra, des images 2D dans le plan 3D, c'est un style graphique très à la mode qui a souvent son petit effet lorsqu'il est couplé avec des effets visuels bien dosés.

Si tout ce que je viens de dire vous semble être de la magie noire, faites un jeu en 2D. Moi aussi je fais des jeux en 2D, presque tout le monde fait des jeux en 2D. Les jeux en 2D c'est bien, ça peut aussi être magnifique, c'est souvent plus lisible et plus abouti dans les jeux de game jam.

### Comprendre ce qui attire l’œil

Même si votre objectif n'est pas de faire un jeu, pardonnez la grossièreté : "pute à clics", savoir quels styles graphiques fonctionnent bien, sont jolis, et ne requièrent pas trop d'efforts est capital. Car c'est le seul moyen de produire un jeu graphiquement abouti en une courte période de temps, et personne n'aime faire de jeux à moitié moches et pas finis.

Voici quelques exemples...

#### Pixelart

Le style de choix car il est rapide, efficace et nostalgique. 

Mais attention ! Mal compris et utilisé il devient totalement immonde. Voici quelques conseils pour ne pas faire preuve de mauvais goût :

- Limitez vous à une palette de 8 à 32 couleurs adaptée à l'ambiance recherchée (voir palettes sur [Lospec](https://lospec.com))
- Limitez vous à une basse résolution (480px c'est bien)
- Ne mettez pas de tailles de pixels différentes à l'écran
- Désactivez l'antialiasing sur vos images
- Évitez d'effectuer des rotations sur vos pixels si vous ne savez pas ce que vous faites
- Évitez les "jaggies"

L'ajout de "normal maps" et d'effets de lumière peut facilement vous propulser dans le top 10 des graphismes sans trop d'efforts (mais non sans avoir été brillant dans votre vision).

#### 3D/2.5D unshaded

Ce style très efficace est difficile à expliquer mais en réalité très simple si vous vous y connaissez un peu en 3D. Voici [une vidéo qui résume tout ça mieux que moi](https://www.youtube.com/watch?v=WO4BrPZ1P3A). Mais en 4 mots : 3D sans ombres, occlusion ambiante (si votre moteur le permet) et couleurs vives.

Avec un peu d'effort et d'effets de particules ça peut même être poétique et rendre votre jeu plus prestigieux qu'il ne l'est vraiment.

#### Style "Paper Mario"

Efficace lui aussi, il consiste à bloquer la caméra dans un monde en 3D et de se passer de modèles 3D pour les remplacer par des images 2D vue du bon angle. Les images seront généralement appliquées en tant que textures sur un "quadmesh" avec un shader "billboard".

Si vous arrivez à un effet proche des jeux *Paper Mario*, votre jeu provoquera une telle nostalgie chez le joueur qui oubliera totalement de juger la qualité et l'originalité graphique réelle de votre jeu (bon, j'exagère).

#### D'autres styles que je vous recommande

- FPS retro et enemis en 2D (Doom retro)
- 2.5D pixelart camera vue de ¾ haut (Octopath Traveller)
- Vector Art avec couleurs vives et animations exagérées (Thomas Was Alone)
- Style aquarelle ou style peinture légère et discrète ([Doc Géraud](https://www.youtube.com/watch?v=TFx66SKTs8w))
- Style dessins aux pastels (Yoshi Island)

Une bonne idée serait d'aller voir d'anciens jeux de game jam pour trouver de l'inspiration et voir ce qui est possible de faire dans une courte période de temps.

N'hésitez surtout pas à vous entraîner avant !

# Préparer le matériel
Maintenant que vous avez votre idée de jeux, il va falloir établir le "stack technique" de votre jeu. C'est à dire les outils qui vont vous aider à faire votre jeu.

Si vous avez déjà des outils de prédilection, foncez ! Le mieux quand l'on manque de temps comme dans une game jam, c'est de faire avec les outils que l'on connaît déjà.

Mais si comme moi vous aimez chercher les outils parfaits pour vous faciliter la vie dans vos projets, alors laissez moi vous présenter certains outils, leurs forces et leurs faiblesses dans l'exercice de la game jam.

## Le moteur de jeu
Le débat du moteur de jeu est souvent un peu creux, et il vaut souvent mieux se lancer avec l'un d'entre eux au hasard que de passer des mois à coincer là dessus. Mais il serait faux d'admettre que tous les moteurs permettent tous de faire la même chose avec autant de facilité.

### Unity
Prendre Unity c'est comme prendre le premier résultat sur google. Il a tout pour lui : le marketing, la popularité, les gros jeux faits avec pour témoigner de ses capacités, les milliers de tutoriels pour l'apprendre dans n'importe quelle langue ...

Donc autant dire que d'un point de vue limitations techniques, il n'y a rien à mentionner, en tout cas pas pour des jeux amateurs. Surtout que beaucoup de jeux sont faits avec, donc cela veut dire que beaucoup de développeurs l'ont utilisé quotidiennement pendant des années sans pour autant quitter leur job, ce qui est plutôt bon signe en terme de facilité et d'expérience utilisateur.

Mais il a un bon paquet d'inconvénients assez spécifiques qui pourraient vous donner envie d'aller voir ailleurs :

- Lourdeur (temps de démarrage long, logiciel un peu lent sous son propre poids)
- Complexité (trop de fonctionnalités superflues dont vous n'aurez sûrement pas besoin)
- Pas de réelle sensation de contrôle (ce n'est pas le pire pour ça, mais vous allez avoir l'impression de concevoir votre jeu selon ses manières de faire et pas selon les votre)
- Il est bon partout, mais sans addons payantes et autres contenus payants ou gratuits crées par la communauté il n'est excellent et spécialisé nulle part. Au moins vous avez des addons pour presque tout, contrairement aux concurrents.

###  Unreal engine 4
Un chouette moteur pour faire de la 3D. Tout y est, il suffit d'apprendre, et ça risque d'être très long. Mais si vous voulez vraiment faire de la 3D il n'y a que lui qui tienne la route sur le long terme.

Seul gros bémol, le langage de programmation : soit vous partez sur du "visual scripting", du "no code" sans vraiment l'être qui ne fait que ralentir le temps de développement, soit vous partez sur du C++, un langage très rapide mais complexe, vieux et à mon avis moins bien conçu que beaucoup d'autres, et long à maîtriser. Donc soit vous perdez votre temps à coder des choses simples, soit vous perdez votre temps à coder des choses compliquées, à vous de choisir.

Mais comme dans tous les moteurs, si le langage ne vous plaît pas, il existe souvent des "bindings" pour coder dans d'autres langages sans perdre en fonctionnalités. La documentation sera juste plus formelle et vous devrez suivre les tutoriels en activant le traducteur dans votre tête pour essayer d'utiliser les mêmes fonctionnalités depuis vos bindings customisés.

### Godot Engine
Mon petit favori. Open source (bon à priori ça changera rien pour 99% des gens), très léger, facile d'utilisation, intuitif (pour moi). Bref il est simple et propre, pour les game jams il est très populaire car il permet de faire des jeux très rapidement grâce à son design bien rodé et son langage assez simple. La documentation est bien faite et même si l'on n'a pas autant de fonctionnalités qu'ailleurs, il peut faire un peu de tout.

Mais si vous comptez faire de la 3D réaliste ou un jeu plus avancé que ça, passez votre chemin, attendez un an que la 4.0 sorte et que la plupart des soucis soient corrigés. Le langage (une sorte de Python/Javascript qui s'appelle GDscript) est un peu bancal, même si c'est toujours mieux que de tout faire en C++ ou en "visual scripting". De nombreux bindings de qualité existent pour le C# et le Rust, mais si vous ne savez pas vous servir du moteur ils ne sont pas encore assez bien documentés pour les débutants.

Si vous débutez dans la création de jeux et que vous voulez un moteur de jeu qui a de l'avenir et qui est simple à apprendre foncez. Sinon je vous conseille de choisir entre les deux autres du dessus.

### D'autres moteurs à essayer

- Game Maker Studio (cher et limité à la 2D, mais paradoxalement populaire)
- Construct 3 (le meilleur moteur 2D avec du "no code" et une bonne compatibilité web)
- Defold engine (il a bonne réputation mais je ne le connais pas bien. Il me donne juste l'impression d'être Godot, mais moins abouti et limité à la 2D)

### À propos des "Librairies graphiques"
Si vous cherchez un moteur pour un langage en particulier, disons Java ou Javascript, vous allez tomber sur des "moteurs" mais sans interfaces. Ce sont en faite des "librairies graphiques" avancées qui permettent aussi d'avoir du son, de gérer les touches utilisateurs et d'exporter sur divers plateformes.

À moins que vous soyez prêts à tout pour ne pas quitter votre langage de rêve (ce qui est dommage à mon avis), ou à moins que vous ayez une idée de structuration de votre projet très bien fixée, appuyée par une bonne maîtrise des design patterns relatifs au jeu vidéo, en bref, que vous soyez un pro, passez votre chemin pour les game jams. Sans interfaces et outils avancés, ces "moteurs de jeux" vous demanderont de tout faire grâce au code et grâce à des fichiers de configuration, ce qui peut vraiment ralentir le développement.

Dans le cas où ça vous tenterais, vérifiez qu'il est possible de faire du "hot reload", c'est à dire de voir votre jeu changé en live lorsque vous changez quelque chose dans le code afin de le développer plus facilement.

## Les outils
Maintenant que le gros morceau des moteurs est passé, penchons nous sur des outils gratuits ou payants dont vous pourriez avoir besoin :

### Son
- édition de bruitages : Audacity
- composition de chiptunes : Bosca Ceoil (je ne m'y connais pas bien en composition, demandez à un pro)

### 2D art
- photoshop-like : Krita (plus orienté dessin) ou Gimp (plus orienté édition d'images)
- pixelart : Aseprite, GraphicsGale, Piskel
- animation automatique de pixelart : Juice FX

### 3D
- modélisation et animation : Blender (on peut tout faire avec aujourd'hui)
- création de personnages humanoides : Fuse character creator
- bibliothèque d'animations : Mixamo
- édition de matériaux : Substance Painter (cher) ou Material Maker

### Autres
- écrire en markdown : Zettlr (je m'en sers pour écrire les cours actuellement) ou Typora
- gérer les taches dans un projets : Kanboard ou Trello
- addon blender pour faire la 3D pixelart : Sprytile
- création de shaders : Shadertoy

## Les ressources
Vous allez aussi avoir besoin de quelques ressources supplémentaires, car je doute que vous ne fassiez tout dans votre projet. Voici quelques liens utiles pour trouver des ressources libres de droits (attention aux licences, ça peut devenir compliqué, renseignez vous bien sur chaque site).

- Ressources de tout type : [OpenGameArt](https://opengameart.org/), [Kenney](https://www.kenney.nl/)
- Musiques
    - Tout type : [Liborio Conti](https://no-copyright-music.com/) [FreeMusicArchive](https://freemusicarchive.org/search) 
    - Musique classique (attention, la composition et l'enregistrement doivent tous les deux être libre de droits) : [Musopen](https://musopen.org/) 
    - Voir sur youtube et soundcloud, vous en trouverez un paquet

# Se lancer
Maintenant c'est à vous de prendre tout ce que je viens de vous donner et de lancer votre projet. 

Gardez quelques idées assez génériques de jeu en tête (FPS, platformer, stratégie ...) et essayez de les faire partiellement avant la game jam pour vous entraîner. Si vous êtes perdus, suivez des tutoriels qui expliquent comment les réaliser à partir du moteur que vous avez choisi. 

N'hésitez pas à mettre en place les outils et les ressources avant que le thème ne soit révélé. Testez régulièrement votre jeu lors de sa création et n'oubliez pas de vous amuser !


